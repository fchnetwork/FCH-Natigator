<div class="container-modal">
  <div class="adaptive-dialog">
    <div class="modal-content">
      <aer-modal-dialog>
        <div class="c-swap-confirm c-swap-confirm__table c-swap-confirm__unlock">
          <h1>{{ swapExpired || swapCancelled ? 'Cancel Swap' : (canCloseSwap || swapClosed ? 'Complete Swap' : 'Waiting Counterparty') }}</h1>
          <div *ngFor="let error of errors" aerRow>
            <div aerColumn size="sm-12" class="cell cell--left error">{{error}}</div>
          </div>
          <div aerRow *ngIf="swapClosed">
            <div aerColumn size="sm-12" class="cell cell--left">
              Swap closed successfully
            </div>
          </div>
          <div aerRow *ngIf="swapCancelled">
            <div aerColumn size="sm-12" class="cell cell--left">
              Swap cancelled successfully
            </div>
          </div>
          <div aerRow *ngIf="!swapClosed && !swapCancelled">
            <div aerColumn size="sm-6" class="cell cell--left">
              Your swap will expire in:
            </div>
            <div aerColumn size="sm-6" class="cell cell--right" *ngIf="timer">
              {{timer.hours() | number:'2.0'}}:{{timer.minutes() | number:'2.0'}}:{{timer.seconds() | number:'2.0'}}
            </div>
          </div>
          <div class="o-table" *ngIf="canCloseSwap">
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                Your swap was accepted by
              </div>
              <div class="o-table__cell o-data--right">
                {{acceptedBy | truncate: 16}}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                You will send
              </div>
              <div class="o-table__cell o-data--right">
                {{sendAmount | number:'1.2-18'}} ETH
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                You will receive
              </div>
              <div class="o-table__cell o-data--right">
                {{receiveAmount | number:'1.2-18'}} {{receiveCurrency}}
              </div>
            </div>
          </div>
          <div aerRow *ngIf="canCloseSwap">
            <div aerColumn size="sm-12" class="cell">
              <label>Enter secret key:</label>
              <aer-input [(ngModel)]="secret" placeholder="Type secret key" [attr.readonly]="processing"></aer-input>
            </div>
          </div>
          <div aerRow *ngIf="expireSwapTransactionExplorerUrl">
            <div aerColumn size="sm-9" class="cell cell--left">
              <a href="{{expireSwapTransactionExplorerUrl}}" target="_blank" class="c-swap-confirm__explorer-link">{{expireSwapTransactionExplorerUrl | truncate: 40}}</a>
            </div>
            <div aerColumn size="sm-3" class="cell cell--right" *ngIf="timer">
              <img *ngIf="processing" src="assets/images/loading.svg" alt="loading"/>
            </div>
          </div>
          <div class="message">
            Warning! Phasellus rhoncus. Nulla est. Phasellus et lorem id felis nonummy placerat. Integer pellentesque
            quam vel velit. Fusce tellus odio, dapibus id fermentum quis, suscipit id erat.
          </div>
          <aer-button (buttonFn)="complete()" class="blue large full-width" *ngIf="canCloseSwap" [disabled]="processing">Complete swap</aer-button>
          <aer-button (buttonFn)="cancel()" class="blue large full-width" *ngIf="swapExpired && !swapCancelled" [disabled]="processing">Cancel swap</aer-button>
          <aer-button (buttonFn)="close()" class="blue large full-width" [disabled]="processing" (ngClass)="{ 'blue': !processing, 'grey': processing }"> {{ (swapClosed || swapExpired) ? "Close" : "Cancel" }}</aer-button>
        </div>
      </aer-modal-dialog>
    </div>
  </div>
</div>
