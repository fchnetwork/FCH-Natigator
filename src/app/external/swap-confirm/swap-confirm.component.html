<div class="container-modal">
  <div class="adaptive-dialog">
    <div class="modal-content">
      <aer-modal-dialog>
        <div class="swap-confirm swap-confirm__table swap-confirm__unlock">
          <h1>{{(!canLoadSwap ? 'EXTERNAL-SWAP.CONFIRM.TITLE_CANT_LOAD_SWAP' : swapCancelled ? 'EXTERNAL-SWAP.CONFIRM.TITLE_CANCELLED_SWAP' : swapClosed ? 'EXTERNAL-SWAP.CONFIRM.TITLE_DEPOSIT_SWAP' : swapExpired ? 'EXTERNAL-SWAP.CONFIRM.TITLE_CANCEL_SWAP' : canCloseSwap ? 'EXTERNAL-SWAP.CONFIRM.TITLE_COMPLETE_SWAP' : 'EXTERNAL-SWAP.CONFIRM.TITLE_WAITING_COUNTERPARTY')|translate}}</h1>
          <app-divider></app-divider>
          <div *ngFor="let error of errors" aerRow>
            <div aerColumn size="sm-12" class="cell error">{{error}}</div>
          </div>
          <div aerRow *ngIf="swapClosed">
            <div aerColumn size="sm-12" class="cell swap-confirm--success">
              {{'EXTERNAL-SWAP.CONFIRM.FIELD_SWAP_CLOSED_SUCCESSFULLY'|translate}}
            </div>
          </div>
          <div aerRow *ngIf="swapCancelled">
            <div aerColumn size="sm-12" class="cell swap-confirm--cancelled">
              {{'EXTERNAL-SWAP.CONFIRM.FIELD_SWAP_CANCELLED_SUCCESSFULLY'|translate}}
            </div>
          </div>
          <div aerRow *ngIf="timer && !swapClosed && !swapCancelled">
            <div aerColumn size="sm-6" class="cell cell_left">
              {{'EXTERNAL-SWAP.CONFIRM.FIELD_YOUR_SWAP_WILL_EXPIRE_IN'|translate}}
            </div>
            <div aerColumn size="sm-6" class="cell cell_right">
              {{timer.hours() | number:'2.0'}}:{{timer.minutes() | number:'2.0'}}:{{timer.seconds() | number:'2.0'}}
            </div>
          </div>
          <div class="o-table" *ngIf="canCloseSwap">
            <div class="o-table__row">
              <div class="o-table__cell o-data_left">
                {{'EXTERNAL-SWAP.CONFIRM.FIELD_YOUR_SWAP_WAS_ACCEPTED_BY'|translate}}
              </div>
              <div class="o-table__cell o-data_right">
                {{acceptedBy | truncate: 16}}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data_left">
                {{'EXTERNAL-SWAP.CONFIRM.FIELD_YOU_WILL_SEND'|translate}}
              </div>
              <div class="o-table__cell o-data_right">
                {{sendAmount | number:'1.2-18'}} {{ walletTokenSymbol }}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data_left">
                {{'EXTERNAL-SWAP.CONFIRM.FIELD_YOU_WILL_RECEIVE'|translate}}
              </div>
              <div class="o-table__cell o-data_right">
                {{receiveAmount | number:'1.2-18'}} {{receiveCurrency}}
              </div>
            </div>
          </div>
          <div aerRow *ngIf="canCloseSwap">
            <div aerColumn size="sm-12" class="cell">
              <label>{{'EXTERNAL-SWAP.CONFIRM.FIELD_ENTER_SECRET_KEY'|translate}}</label>
              <aer-input [(ngModel)]="secret" placeholder="{{'EXTERNAL-SWAP.CREATE.FIELD_TYPE_SECRET_KEY'|translate}}" [attr.readonly]="processing"></aer-input>
            </div>
          </div>

          <div *ngIf="swapTransactionExplorerUrl" class="swap-confirm__transaction-explorer">
              <aer-button (buttonFn)="explorerLink()" class="blue small">{{'EXTERNAL-SWAP.CONFIRM.OPEN_SWAP_TX_IN_EXPLORER'|translate}}</aer-button>
              <aer-loader *ngIf="processing"></aer-loader>
          </div>

          <div *ngIf="!swapClosed && !swapCancelled" class="message">
            {{'EXTERNAL-SWAP.CONFIRM.FIELD_MESSAGE'|translate}}
          </div>
          <aer-button (buttonFn)="complete()" class="blue large full-width" *ngIf="canCloseSwap" [disabled]="processing">{{'EXTERNAL-SWAP.CONFIRM.BTN_COMPLETE_SWAP'|translate}}</aer-button>
          <aer-button (buttonFn)="cancel()" class="blue large full-width" *ngIf="swapExpired && !swapCancelled" [disabled]="processing">{{'EXTERNAL-SWAP.CONFIRM.BTN_CANCEL_SWAP'|translate}}</aer-button>
          <aer-button (buttonFn)="close()" class="blue large full-width btn--close" [disabled]="processing" (ngClass)="{ 'blue': !processing, 'grey': processing }">{{'EXTERNAL-SWAP.CONFIRM.BTN_CLOSE'|translate}}</aer-button>
        </div>
      </aer-modal-dialog>
    </div>
  </div>
</div>
