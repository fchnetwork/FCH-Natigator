<div class="container-modal">
  <div class="adaptive-dialog">
    <div class="modal-content">
      <aer-modal-dialog>
        <div class="c-swap-create c-swap-create__table c-swap-create__unlock">
          <h1>{{'EXTERNAL-SWAP.CREATE-OPPOSITE.TITLE'|translate}}</h1>
          <div aerRow>
            <div aerColumn size="sm-12" class="cell">
              <label>{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_SENDING_AERUM_ASSET_'|translate}}</label>
              <aer-select [(ngModel)]="selectedToken"dataKey="symbol" icon="aerumleaf" placeholder="{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_SELECT_YOUR_TOKEN'|translate}}" (ngModelChange)="onTokenChange()" [disabled]="processing">
                <aer-select-option *ngFor="let token of tokens;" [value]="token">
                  <aer-icon>aerumleaf</aer-icon>
                  <span>{{token.symbol}}</span>
                </aer-select-option>
              </aer-select>
            </div>
          </div>
          <div aerRow>
            <div aerColumn size="sm-12" class="cell">
              <label>{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_AMOUNT_TO_SEND'|translate}}</label>
              <aer-input [ngModel]="amount | number" placeholder="{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_TYPE_AMOUNT'|translate}}" (ngModelChange)="onAmountChange($event)" [attr.readonly]="processing"></aer-input>
            </div>
          </div>
          <div aerRow>
            <div aerColumn size="sm-12" class="cell">
              <label>{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_EXCHANGE_COUNTERPARTY'|translate}}</label>
              <aer-select [(ngModel)]="selectedTemplate" dataKey="onchainAccount" placeholder="{{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_SELECT_YOUR_COUNTERPARTY'|translate}}" (ngModelChange)="onTemplateChange()" [disabled]="processing">
                <aer-select-option *ngFor="let template of templates;" [value]="template">
                  <img class="avatar" [src]="template.onchainAccount | generateavatar">
                  <span>{{template.onchainAccount}}</span>
                </aer-select-option>
              </aer-select>
            </div>
          </div>
          <div class="o-table">
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                {{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_SENDING_AERUM_ASSET'|translate}}
              </div>
              <div class="o-table__cell o-data--right">
                {{ selectedToken ? selectedToken.symbol : '' }}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                {{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_AMOUNT'|translate}}
              </div>
              <div class="o-table__cell o-data--right">
                {{ethAmount| number:'1.2-18'}}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                {{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_EXCHANGE_RATE'|translate}}
              </div>
              <div class="o-table__cell o-data--right">
                {{rate | number:'1.2-18'}}
              </div>
            </div>
            <div class="o-table__row">
              <div class="o-table__cell o-data--left">
                {{'EXTERNAL-SWAP.CREATE-OPPOSITE.FIELD_SECRET_KEY'|translate}}
              </div>
              <div class="o-table__cell o-data--right">
                <span class="secret-key" (click)="copyToClipboard()">{{secret}}</span>
              </div>
            </div>
            <div *ngIf="openSwapTransactionExplorerUrl" class="o-table__row">
              <div class="o-table__cell o-data--left">
                <a href="{{openSwapTransactionExplorerUrl}}" target="_blank" class="c-swap-create__explorer-link">{{openSwapTransactionExplorerUrl | truncate: 40}}</a>
              </div>
              <div class="o-table__cell o-data--right">
                <img *ngIf="processing" src="assets/images/loading.svg" alt="loading"/>
              </div>
            </div>
          </div>
          <div class="message">
            Attention! You will need this secret key to complete the swap. You need to complete the swap before it expires.
          </div>
          <aer-button (buttonFn)="next()" class="blue large full-width" [disabled]="!canMoveNext()" (ngClass)="{ 'blue': canMoveNext(), 'grey': !canMoveNext() }">{{'EXTERNAL-SWAP.CREATE-OPPOSITE.BTN_NEXT'|translate}}</aer-button>
          <aer-button (buttonFn)="cancel()" class="blue large full-width" [disabled]="processing" (ngClass)="{ 'blue': !processing, 'grey': processing }">{{(swapCreated ? "EXTERNAL-SWAP.CREATE-OPPOSITE.BTN_CLOSE" : "EXTERNAL-SWAP.CREATE-OPPOSITE.BTN_BACK")|translate}}</aer-button>
        </div>
      </aer-modal-dialog>
    </div>
  </div>
</div>
